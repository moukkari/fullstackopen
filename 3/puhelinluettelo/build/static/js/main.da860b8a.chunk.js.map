{"version":3,"sources":["components/Filter.js","services/phoneService.js","components/Notification.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["Filter","props","onChange","event","setFiltered","persons","filter","person","name","toLowerCase","includes","target","value","url","axios","get","then","r","data","newObj","post","id","req","delete","catch","status","console","log","put","Notification","msg","error","className","PersonForm","useState","newName","setNewName","newNumber","setNewNumber","message","setMessage","onSubmit","preventDefault","some","window","confirm","find","x","number","srv","setAllPersons","setTimeout","concat","placeholder","type","Persons","map","key","onClick","handleRemoveClick","App","setPersons","filteredPersons","newPersonList","useEffect","initialPhoneBook","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da860b8a.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    const handleFilter = (event) => {\n        props.setFiltered(props.persons.filter(\n            person => person.name.toLowerCase().includes(event.target.value.toLowerCase())))\n    }\n    return (\n    <form>\n        filter <input onChange={handleFilter} />\n    </form> \n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst url = '/api/persons'\n\nconst getAll = () => {\n    const req = axios.get(url)\n    return req.then(r => r.data)\n}\n\nconst add = newObj => {\n    const req = axios.post(url, newObj)\n    return req.then(r => r.data)\n}\n\nconst remove = id => {\n    const req = axios.delete(`${url}/${id}`)\n        .catch(() => {\n            return { status: 404 }\n        })     \n    console.log(`deleted id ${id}`)\n    return req.then(r => r.status)\n\n}\n\nconst update = (id, newObj) => {\n    const req = axios.put(`${url}/${id}`, newObj)\n    return req.then(r => r.data)\n}\n\nexport default { getAll, add, remove, update }","import React from 'react'\nimport './Notification.css'\n\nconst Notification = ({msg, error}) => {\n    if (msg === '' || msg === null) {\n        return null\n    } else if (error) {\n        return <div className=\"error note\">{msg}</div>\n    } else {\n        return <div className=\"info note\">{msg}</div>\n    }\n}\n\nexport default Notification","import React, { useState } from 'react'\nimport srv from '../services/phoneService'\nimport Notification from './Notification'\n\nconst PersonForm = (props) => {\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ message, setMessage ] = useState('')\n\n    const handleSubmit = (event) => {\n        event.preventDefault()\n        if (props.persons.some(person => person.name === newName)) {\n            const answer = window.confirm(`${newName} is already in the phonebook. Replace the old number with a new one?`)\n            if (answer) {\n                let person = props.persons.find(x => x.name === newName)\n                person.number = newNumber\n                srv.update(person.id, person)\n                    .then(r => srv.getAll().then(r => {\n                        props.setAllPersons(r)\n                        setMessage(`Updated ${person.name}`)\n                        setTimeout(() => setMessage(null), 5000)\n                }))        \n            }\n        } else {\n            let newObj = {name: newName, number: newNumber}\n            srv.add(newObj).then(r =>  {\n                props.setAllPersons(props.persons.concat(r))\n                setMessage(`Added ${r.name}`)\n                setTimeout(() => setMessage(null), 5000)\n            })\n            \n        }\n    }\n    const handleNameChange = (event) => setNewName(event.target.value)\n    const handleNumberChange = (event) => setNewNumber(event.target.value)\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                name: <input onChange={handleNameChange} placeholder=\"New person...\"/>\n                <br/>\n                number: <input onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n                <Notification msg={message} error={false} />\n            </div>\n        </form>\n    ) \n}\n\nexport default PersonForm","import React, {useState} from 'react'\nimport srv from '../services/phoneService'\nimport Notification from './Notification'\n\nconst Persons = (props) => {\n    const [ message, setMessage ] = useState('')\n\n    const handleRemoveClick = (person) => {\n        const answer = window.confirm(`Do you really want to delete ${person.name}`)\n        if (answer) {\n            srv.remove(person.id).then((status) => {\n                if (status === 204) {\n                    props.setAllPersons(props.data.filter(x => x !== person))\n                    setMessage(`Deleted ${person.name}`)\n                    setTimeout(() => setMessage(null), 5000)\n                } else {\n                    props.setAllPersons(props.data.filter(x => x !== person))\n                    setMessage(`${person.name} has already been deleted`)\n                    setTimeout(() => setMessage(null), 5000)\n                }\n            })\n        }\n    }\n\n    let data = props.data.map(person =>\n        <p key={person.name}>\n            {person.name} - {person.number} \n            <button onClick={() => handleRemoveClick(person)}>remove</button>\n        </p>\n    )\n    return (\n        <div>\n            <Notification msg={message} error={true} />\n            {data}\n        </div>  \n    )\n}\n\nexport default Persons","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport srv from './services/phoneService'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ filteredPersons, setFiltered ] = useState([])\n\n  const setAllPersons = (newPersonList) => {\n    setPersons(newPersonList)\n    setFiltered(newPersonList)\n  }\n\n  useEffect(() => {\n    srv.getAll().then(initialPhoneBook => {\n      setAllPersons(initialPhoneBook)\n    })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter persons={persons} setFiltered={setFiltered} />\n      <h3>Add new</h3>\n      <PersonForm persons={persons} setAllPersons={setAllPersons} />\n      <h3>Numbers</h3>\n      <Persons data={filteredPersons} setAllPersons={setAllPersons} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}